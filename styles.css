:root{
  /* paleta clara/oscura suave */
  --bg:#0f1318;
  --bg-soft:#151b23;
  --panel:#111821;
  --card:#141d27;
  --surface:#f7fafc;       /* chips claros */
  --text:#f2f6fc;
  --text-muted:#b9c4d1;
  --ink:#1f2937;           /* texto oscuro en chips */
  --primary:#3b82f6;
  --primary-2:#2563eb;
  --accent:#22d3ee;
  --danger:#ff6b6b;
  --ok:#34d399;
  --border:rgba(255,255,255,.15);
  --shadow: 0 10px 28px rgba(0,0,0,.35);
  --radius:16px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:linear-gradient(180deg,#10151b 0%, #0e1620 100%);
  color:var(--text);
  font: 14px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Arial;
}

/* Top nav (menos dark) */
.nav{
  height:58px; display:flex; align-items:center; justify-content:space-between;
  padding:0 16px; backdrop-filter: blur(8px);
  background:rgba(255,255,255,.06); border-bottom:1px solid var(--border);
}
.brand{display:flex;align-items:center;gap:10px;font-weight:600}
.brand .dot{width:10px;height:10px;border-radius:50%;background:var(--accent);box-shadow:0 0 12px var(--accent)}

.searchbar{display:flex;gap:8px;align-items:center}
.searchbar input{
  width:220px; padding:10px 12px; border-radius:12px;
  border:1px solid var(--border); background:#0f1620; color:var(--text); outline:none;
}
.btn{border:none; padding:10px 14px; border-radius:12px; cursor:pointer; color:#fff}
.btn.primary{background:linear-gradient(135deg,var(--primary),var(--primary-2))}
.btn.ghost{background:transparent; border:1px solid var(--border); color:#e6eefb}
.btn.sm{padding:6px 10px; border-radius:10px; background:#112031}
.btn.danger{border-color:var(--danger); color:#ffdede}
.btn.danger.ghost{background:transparent; border:1px solid var(--danger)}

/* Escenario */
.stage{position:relative; height:calc(100vh - 58px); width:100%}

/* Mapa en recuadro */
#map{
  position:absolute;
  /* deja respiración para ver el recuadro aunque haya paneles encima */
  inset:12px 12px 86px 12px;      /* top right bottom left */
  border-radius:18px;
  border:1px solid rgba(255,255,255,.18);
  box-shadow: var(--shadow);
  overflow:hidden;
}

/* Filtros en pastilla (ligeramente más claras) */
.pill.filters{
  position:absolute; top:24px; left:28px; display:flex; gap:8px; flex-wrap:wrap;
  background:rgba(255,255,255,.10); border:1px solid var(--border);
  border-radius:14px; padding:8px; box-shadow:var(--shadow); z-index:500;
}
.pill select{
  appearance:none; color:#e8f1ff; background:#111a25; border:1px solid var(--border);
  border-radius:10px; padding:8px 10px; min-width:150px;
}

/* KPIs más contrastadas */
.kpis{
  position:absolute; top:24px; right:28px; display:flex; gap:12px; z-index:500;
}
.card{
  background:linear-gradient(180deg,#122032,#0e1723);
  border:1px solid var(--border); border-radius:16px; padding:12px 14px;
  box-shadow:var(--shadow); min-width:150px;
}
.card .k{color:var(--text-muted); font-size:12px}
.card .v{font-size:20px; font-weight:700; letter-spacing:.2px}

/* Panel derecho (ligero) */
.panel{
  position:absolute; top:110px; right:28px; bottom:98px; width:420px; z-index:520;
  background:rgba(15,22,32,.95); border:1px solid var(--border); border-radius:var(--radius);
  box-shadow:var(--shadow); display:flex; flex-direction:column; overflow:hidden;
}
.panel-head, .panel-foot{
  padding:10px 12px; background:#0f1a28; border-bottom:1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between;
}
.panel-foot{border-top:1px solid var(--border); border-bottom:none; margin-top:auto}
.pager{display:flex; align-items:center; gap:8px}
.pager .sm{padding:6px 10px; border-radius:10px}
.table-wrap{overflow:auto; height:100%; background:#0e1723}
#grid{width:100%; border-collapse:collapse; font-size:13px}
#grid thead{position:sticky; top:0; background:#132237}
#grid th,#grid td{padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.08)}
#grid tbody tr:hover{background:rgba(59,130,246,.12)}

/* FABs */
.fab-col{
  position:absolute; right:28px; bottom:112px; display:flex; flex-direction:column; gap:10px; z-index:530;
}
.fab{
  width:46px;height:46px;border-radius:14px;border:1px solid var(--border);
  background:#101a28; color:#e6f0ff; cursor:pointer; box-shadow:var(--shadow)
}

/* HUD inferior (chips claros) */
.hud{
  position:absolute; left:50%; transform:translateX(-50%); bottom:24px;
  display:flex; gap:10px; z-index:540;
}
.chip{
  background:var(--surface); color:var(--ink);
  border:1px solid rgba(0,0,0,.08);
  padding:9px 12px; border-radius:14px; box-shadow:0 8px 18px rgba(0,0,0,.2)
}

/* Responsive */
@media (max-width: 1100px){
  .panel{width:92vw; right:4vw; top:auto; height:46vh}
  .kpis{left:28px; right:auto; top:auto; bottom:112px}
  .pill.filters{left:28px; right:28px; top:24px}
  #map{inset:12px 12px 170px 12px}
}
