:root{
  --bg:#0b0f14;
  --bg-soft:#121821;
  --panel:#0f151d;
  --card:#111a25;
  --mute:#7b8a9a;
  --text:#e7f0ff;
  --primary:#3aa0ff;
  --primary-2:#1b7ee0;
  --accent:#00ffc6;
  --danger:#ff6b6b;
  --ok:#6ee7b7;
  --shadow: 0 8px 24px rgba(0,0,0,.45);
  --radius:18px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:linear-gradient(180deg,#0b0f14 0%, #0c1117 100%);
  color:var(--text); font: 14px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Arial;
}

/* Top nav */
.nav{
  height:58px; display:flex; align-items:center; justify-content:space-between;
  padding:0 16px; backdrop-filter: blur(8px);
  background:rgba(8,12,18,.6); border-bottom:1px solid rgba(255,255,255,.06);
}
.brand{display:flex;align-items:center;gap:10px;font-weight:600}
.brand .dot{width:10px;height:10px;border-radius:50%;background:var(--accent);box-shadow:0 0 12px var(--accent)}

.searchbar{display:flex;gap:8px;align-items:center}
.searchbar input{
  width:220px; padding:10px 12px; border-radius:12px; border:1px solid rgba(255,255,255,.08);
  background:#0e141c; color:var(--text); outline:none;
}
.btn{border:none; padding:10px 14px; border-radius:12px; cursor:pointer; color:#fff}
.btn.primary{background:linear-gradient(135deg,var(--primary),var(--primary-2))}
.btn.ghost{background:transparent; border:1px solid rgba(255,255,255,.08); color:#d9e6ff}
.btn.sm{padding:6px 10px; border-radius:10px; background:#111923}
.btn.danger{border-color:var(--danger); color:#ffdede}
.btn.danger.ghost{background:transparent; border:1px solid var(--danger)}

/* Stage */
.stage{position:relative; height:calc(100vh - 58px); width:100%}
#map{position:absolute; inset:0;}

/* Pills / KPIs */
.pill.filters{
  position:absolute; top:76px; left:16px; display:flex; gap:8px; flex-wrap:wrap;
  background:rgba(10,15,22,.72); border:1px solid rgba(255,255,255,.08);
  border-radius:14px; padding:8px; box-shadow:var(--shadow)
}
.pill select{
  appearance:none; color:#dbe8ff; background:#0f1620; border:1px solid rgba(255,255,255,.08);
  border-radius:10px; padding:8px 10px; min-width:150px;
}

.kpis{
  position:absolute; top:76px; right:16px; display:flex; gap:12px; z-index:500;
}
.card{
  background:linear-gradient(180deg,#0e1620,#0b121a);
  border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:12px 14px;
  box-shadow:var(--shadow); min-width:150px;
}
.card .k{color:var(--mute); font-size:12px}
.card .v{font-size:20px; font-weight:700; letter-spacing:.2px}

/* Right panel */
.panel{
  position:absolute; top:140px; right:16px; bottom:82px; width:420px; z-index:400;
  background:var(--panel); border:1px solid rgba(255,255,255,.08); border-radius:var(--radius);
  box-shadow:var(--shadow); display:flex; flex-direction:column; overflow:hidden;
}
.panel-head, .panel-foot{
  padding:10px 12px; background:#0e151e; border-bottom:1px solid rgba(255,255,255,.06);
  display:flex; align-items:center; justify-content:space-between;
}
.panel-foot{border-top:1px solid rgba(255,255,255,.06); border-bottom:none; margin-top:auto}
.pager{display:flex; align-items:center; gap:8px}
.pager .sm{padding:6px 10px; border-radius:10px}
.table-wrap{overflow:auto; height:100%}
#grid{width:100%; border-collapse:collapse; font-size:13px}
#grid thead{position:sticky; top:0; background:#0f1a27}
#grid th,#grid td{padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.06)}
#grid tbody tr:hover{background:rgba(58,160,255,.08)}

/* FABs */
.fab-col{
  position:absolute; right:16px; bottom:96px; display:flex; flex-direction:column; gap:10px; z-index:450;
}
.fab{
  width:46px;height:46px;border-radius:14px;border:1px solid rgba(255,255,255,.08);
  background:#0f1620; color:#dbe8ff; cursor:pointer; box-shadow:var(--shadow)
}

/* HUD */
.hud{
  position:absolute; left:50%; transform:translateX(-50%); bottom:16px;
  display:flex; gap:10px; z-index:500;
}
.chip{
  background:rgba(10,15,22,.7); border:1px solid rgba(255,255,255,.06);
  color:#dbe8ff; padding:10px 12px; border-radius:14px; box-shadow:var(--shadow)
}

/* Responsive */
@media (max-width: 1100px){
  .panel{width:92vw; right:4vw; top:auto; height:46vh}
  .kpis{left:16px; right:auto; top:auto; bottom:96px}
  .pill.filters{left:16px; right:16px; top:76px}
}
